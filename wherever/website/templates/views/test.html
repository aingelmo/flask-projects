{% extends "base.html" %}
<html class="no-js" lang="">
    {% block title %}
        Google Login with Flask
    {% endblock title %}
    {% block content %}
        <body>
            <h3>Hello world! This is a Flask application.</h3>
            {% if not current_user.is_authenticated %}
                <p>
                    Click <a href="auth/google">here</a> to login with a Google Account.
                </p>
            {% else %}
                <p>
                    Hi, {{ current_user.username }} [<strong>{{ current_user.email }}</strong>]. You have logged in using a Google Account.
                </p>
                {% if google_data is not none %}
                    <div class="info">
                        <p>
                            User info fetched from <strong>{{ fetch_url }}</strong>
                        </p>
                        {% for key, value in google_data.items() %}
                            <p>
                                <strong>{{ key }}</strong>: {{ value }}
                            </p>
                        {% endfor %}
                    </div>
                {% endif %}
                <p>
                    Click <a href="/auth/logout">here</a> to log out
                </p>
            {% endif %}
        </html>
    {% endblock content %}
